<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Code Structure" href="code_structure.html" /><link rel="prev" title="Framework Philosophy" href="framework.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2024.01.29 -->
        <title>Mechanism - IoA documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  .text-gray-600 {
    color: rgb(var(--gray-600));
  }
  .font-medium {
      font-weight: 500;
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
  ul {
      list-style-type: disc;
  }
  #nest-team-formation img {
  border: 2px solid #ccc; /* 添加边框 */
  border-radius: 10px; /* 添加圆角 */
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1); /* 添加阴影 */
  width: 40%; /* 设置图片宽度为100%，使其自适应容器大小 */
  display: block; /* 设置图片为块级元素，使其能够居中 */
  margin: 0 auto; 
  float: right;
  margin-right: 20px;
}

  #conversation-flow img {
  border: 2px solid #ccc; /* 添加边框 */
  border-radius: 10px; /* 添加圆角 */
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1); /* 添加阴影 */
  width: 40%; /* 设置图片宽度为100%，使其自适应容器大小 */
  display: block; /* 设置图片为块级元素，使其能够居中 */
  margin: 0 auto; 
  float: right;
  margin-right: 20px;
}

</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">IoA  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" id="theme-toggle-button">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">IoA  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../home.html">Welcome to Internet of Agents 🪐!</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">HIGH-LEVEL Concepts</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="framework.html">Framework Philosophy</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Mechanism</a></li>
<li class="toctree-l1"><a class="reference internal" href="code_structure.html">Code Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="customize_tool_agent.html">Customize Tool Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/Installation.html">IoA Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Run CASES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../case/IOA.html">IoA Paper Writing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../case/IOT_1.html">IoA & IoT Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../case/IOT_2.html">IoA & IoT Real-World</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Customize AGENT</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../customize/agent.html">Agent</a></li>
<li class="toctree-l1"><a class="reference internal" href="../customize/tool.html">Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../customize/goal.html">Goal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../customize/docker-compose.html">docker-compose</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Distributed Service</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../distributed_service/config.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distributed_service/set_server.html">Deploying IoA Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distributed_service/run_case.html">Run Case locally</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="communication-mechanism">
<h1>Mechanism<a class="headerlink" href="#communication-mechanism" title="Link to this heading">#</a></h1>
<div class="line-block">
<div class="line"><br /></div>
</div>
<section id="communication-mechanism-design">
<h2>🤖 Mechanism Design<a class="headerlink" href="#communication-mechanism-design" title="Link to this heading">#</a></h2>
<p>The effectiveness of IoA relies on several key mechanisms that enable seamless collaboration among diverse agents. These mechanisms work in concert to facilitate agent integration, team formation, task allocation, and structured communication.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<section id="agent-registration-and-discovery">
<h3>Agent Registration and Discovery<a class="headerlink" href="#agent-registration-and-discovery" title="Link to this heading">#</a></h3><br>
<ul class="simple">
  <li><p><strong>Agent Registration</strong>: When a new agent joins the IoA ecosystem, its client wrapper undergoes a registration process with the server. During registration, the agent provides a comprehensive description of its capabilities, skills, and areas of expertise, which is stored in the Agent Registry Block of the server’s Data Layer.</p></li><br>
  <li><p><strong>Agent Discovery</strong>: The agent discovery function leverages the information stored in the Agent Registry to enable agents to find suitable collaborators for specific tasks. Agents can search for other agents based on desired characteristics or capabilities using the search client tool provided by the server’s Agent Query Block.</p></li>
  
</ul>
</section>
<div class="line-block">
<div class="line"><br /></div>
</div>
<!-- <div class="admonition note">
<p class="admonition-title">Note</p>
<p>🌟 Nested Team up: During the task discussion phase, each agent can now choose to:</p>
<ul class="simple">
<li><p>Complete the task alone, meaning the Tool Agent directly carries out the assigned task.</p></li>
<li><p>Team up to complete the task: If the evaluation indicates the need to collaborate with other agents, the agent will treat the task as a new goal and initiate a new Team Up process to form a sub-team. This process can be nested as needed until the set depth limit for nested teaming is reached. The system allows toggling the nested teaming feature for each agent and setting the depth of nesting, providing more flexible configurations.</p></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>We expect the Nested Team Up to bring unprecedented flexibility and scalability to our Multi-Agent System. This feature allows agents to decide whether to form new sub-teams based on necessity, addressing more specific sub-tasks. With this nested team-building mechanism, our system can easily scale up to handle more complex tasks while ensuring efficient and flexible resource allocation.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Why do we need this mechanism? In a Multi-Agent System, the number of agents and the complexity of interactions often grow exponentially with the scale of the tasks. Nested team-up creates clear hierarchies and division of roles, allowing each small team to focus on tasks within their expertise, minimizing unnecessary interactions, thus maintaining communication complexity within each small team manageable even as the team size grows.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>How does this mechanism scale up? It offers a modular method of expansion. As the system needs to scale, new agent groups can be added simply or agents increased within existing groups, with each new agent only needing to communicate with its immediate group, significantly reducing the overall communication burden of the system. Through this multi-layered nesting, the LLM-based Multi-Agent System can efficiently expand to handle larger-scale tasks while still maintaining the efficiency of each small team.</p>
</div>
</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li><p><strong>Coordination</strong>: During this phase, the Communication Layer can send messages to the newly created group chat. This group is then responsible for completing the goal.</p></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div> -->
</section>
<section id="nest-team-formation">
  <h3>Autonomous Nested Team Formation<a class="headerlink" href="#nest-team-formation" title="Link to this heading">#</a></h3><br>
  <ul class="simple">
    <img src="../_images/nested-team-up.jpg">
    
    <li><p><strong>Team Formation Process</strong>: When an agent is assigned a task, it initiates the team formation process using the search client and launch group chat tools. If more collaborators are needed, the agent calls the search client with appropriate characteristics and initiates a new group chat once suitable collaborators are found.</p></li><br>
    <li><p><strong>Nested Team Structure</strong>: This mechanism allows for a hierarchical structure of teams and sub-teams, enabling agents to form nested sub-groups for complex, multi-faceted tasks. This reduces communication complexity and enhances collaboration efficiency.</p></li>
  </ul>
</section>
<div class="line-block">
  <div class="line"><br /></div>
  </div>

<section id="conversation-flow">
  <h3>Autonomous Conversation Flow Control<a class="headerlink" href="#conversation-flow" title="Link to this heading">#</a></h3><br>
  <ul class="simple">
    <img src="../_images/work-flow.jpg">
    
    <li><p><strong>Sequential Speaking Mechanism</strong>: To manage potential conflicts and ensure clear communication, IoA adopts a basic sequential speaking mechanism, allowing only one agent to speak at a time.</p></li><br>
    <li><p><strong>Finite State Machine for Group Chat States</strong>: The conversation flow is formalized as a finite state machine with states representing different phases of the collaboration process, such as discussion, task assignment, and conclusion. The state transitions are determined autonomously by the LLMs in the clients.</p></li>
  </ul>
</section>
<div class="line-block">
  <div class="line"><br /></div>
  </div>

<section id="task-assignment-execution">
  <h3>Task Assignment and Execution<a class="headerlink" href="#task-assignment-execution" title="Link to this heading">#</a></h3><br>
  <ul class="simple">
    <li><p><strong>Task Representation</strong>: A task in IoA is represented as a tuple containing the task description and a set of sub-tasks.</p></li><br>
    <li><p><strong>Task Allocation</strong>: Tasks are allocated to agents either synchronously or asynchronously, depending on the state of the group chat. Synchronous allocation pauses the group chat until tasks are completed, while asynchronous allocation allows parallel execution of tasks.</p></li><br>
    <li><p><strong>Task Execution</strong>: Once a task is allocated, the responsible agents execute it and report back to the group chat upon completion. The pause & trigger state in the conversation flow mechanism ensures that all necessary information is available before proceeding to subsequent stages of collaboration.</p></li>
  </ul>
</section>

</ul>
</li>
</ul>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="code_structure.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Code Structure</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="framework.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Framework Philosophy</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, 2024, Team IoA
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <div class="toc-tree-container" style="text-align:center">
            <p>【English 🇺🇲 | <a href="../doc_zh/index_zh.html">Chinese 🇨🇳</a>】</p> <br>
            <a href="https://github.com/OpenBMB/AgentVerse" class="font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">GitHub  <img id="github-icon" alt="GitHub Icon" src="../_images/github.png" style="width: 18.0px; height: 18.0px;" /></a>
          </div>
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Mechanism</a><ul>
<li><a class="reference internal" href="#communication-mechanism-design">🤖 Mechanism Design</a><ul>
<li><a class="reference internal" href="#agent-registration-and-discovery">Agent Registration and Discovery</a></li>
<li><a class="reference internal" href="#nest-team-formation">Autonomous Nested Team Formation</a></li>
<li><a class="reference internal" href="#conversation-flow">Autonomous Conversation Flow Control</a></li>
<li><a class="reference internal" href="#task-assignment-execution">Task Assignment and Execution</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=32e29ea5"></script>
    <script>
      document.addEventListener('DOMContentLoaded', (event) => {
            const themeToggleButton = document.getElementById('theme-toggle-button');
            if (themeToggleButton) {
                themeToggleButton.addEventListener('click', setGithubIcon);
            }
        });

        function setGithubIcon() {
            const githubIcon = document.getElementById('github-icon');
            const currentTheme = localStorage.getItem("theme") || "auto";
            console.log(currentTheme)
            console.log(githubIcon)
            // const prefersLightScheme = window.matchMedia("(prefers-color-scheme: light)").matches;

            if (currentTheme === 'light') {
                console.log("hello_2");
                githubIcon.src = '../_images/github.png';
            } else {
                console.log("hello");
                githubIcon.src = '../_images/github_2.png';
            }
        }
    </script>
    <script>
      document.addEventListener('DOMContentLoaded', (event) => {
            const themeToggleButton = document.getElementById('theme-toggle-button');
            if (themeToggleButton) {
                themeToggleButton.addEventListener('click', setGithubIcon);
            }
        });

        function setGithubIcon() {
            const githubIcon = document.getElementById('github-icon');
            const currentTheme = localStorage.getItem("theme") || "auto";
            console.log(currentTheme)
            console.log(githubIcon)
            // const prefersLightScheme = window.matchMedia("(prefers-color-scheme: light)").matches;

            if (currentTheme === 'light') {
                console.log("hello_2");
                githubIcon.src = '../_images/github.png';
            } else {
                console.log("hello");
                githubIcon.src = '../_images/github_2.png';
            }
        }
    </script>
    </body>
</html>